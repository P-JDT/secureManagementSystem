<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><!-- create by autoCode,v1.0.0 --><mapper namespace="manage.secureProduct">	<select id="manage.secureProduct.selectPageList" parameterType="net.jeeshop.services.manage.secureProduct.bean.SecureProduct" resultType="net.jeeshop.services.manage.secureProduct.bean.SecureProduct">	 select p.id,p.catalogID,p.name,p.price,DATE_FORMAT(p.createtime,'%Y-%m-%d') createtime,	 	p.status,p.remark, p.delete_flag,p.picture_url,p.introduce	 from t_business_product p where 1=1 and delete_flag=0	 <if test="uid!=null and uid!=''">		and p.id in  (select product_id from t_user_product where user_id= #{uid})	 </if>     <if test="catalogID!=null and catalogID!=''"> 	 	and catalogID=#{catalogID} 	 </if> 	 <if test="status!=null and status!=''">	 	and status=#{status}	 </if>		 <if test="name!=null and name!=''">			and p.name like CONCAT('%','${name}','%' ) 	 </if>	 order by p.createtime desc ,p.id desc	 limit #{offset},#{pageSize} 	</select> 	<select id="manage.secureProduct.selectPageCount" parameterType="net.jeeshop.services.manage.secureProduct.bean.SecureProduct" resultType="java.lang.Integer">	select count(*) from t_business_product p where 1=1 and delete_flag=0	 <if test="uid!=null and uid!=''">		and p.id in  (select product_id from t_user_product where user_id= #{uid})	 </if>  	</select>		<select id="manage.secureProduct.selectList" parameterType="net.jeeshop.services.manage.secureProduct.bean.SecureProduct" resultType="net.jeeshop.services.manage.secureProduct.bean.SecureProduct">	 select * 	 from t_business_product t where 1=1 	 	order by id desc 	</select> 	<insert id="manage.secureProduct.insert" parameterType="net.jeeshop.services.manage.secureProduct.bean.SecureProduct" useGeneratedKeys="true" keyProperty="id">		insert into t_business_product		(		id,createAccount,createTime,status		<if test="catalogID!=null and catalogID!=''">		,catalogID		</if>		<if test="name!=null and name!=''">		,name		</if>		<if test="introduce!=null and introduce!=''">		,introduce		</if>		<if test="price!=null and price!=''">		,price		</if>				<if test="picture_url!=null and picture_url!=''">		,picture_url		</if>		<if test="delete_flag!=null and delete_flag!=''">		,delete_flag		</if>		<if test="remark!=null and remark!=''">		,remark		</if>	    )		values		(		id,#{createAccount},now(),#{status}		<if test="catalogID!=null and catalogID!=''">		,#{catalogID}		</if>		<if test="name!=null and name!=''">		,#{name}		</if>		<if test="introduce!=null and introduce!=''">		,#{introduce}		</if>		<if test="price!=null and price!=''">		,#{price}		</if>		<if test="picture!=null and picture!=''">		,#{picture}		</if>		<if test="picture_url!=null and picture_url!=''">		,#{picture_url}		</if>		<if test="delete_flag!=null and delete_flag!=''">		,#{delete_flag}		</if>		<if test="remark!=null and remark!=''">		,#{remark}		</if>			)</insert>		<!-- 更新后台商品信息，若其他地方需要更新商品部分数据，请另外写方法，此方法仅仅用于更新商品全部数据（此方法不作为通用update方法调用，否则会导致部分字段的数据丢失，切记。） -->	<update id="manage.secureProduct.update" parameterType="net.jeeshop.services.manage.secureProduct.bean.SecureProduct">		update t_business_product		set updatetime=now(),updateAccount=#{updateAccount}				<if test="catalogID !=null and catalogID!=''">		,catalogID=#{catalogID}		</if>		<if test="catalogID !=null and catalogID!=''">		,name=#{name}		</if>		<if test="price !=null and price!=''">		,price=#{price}		</if>		<if test="introduce !=null and introduce!=''">		,introduce = #{introduce}		</if>		<if test="picture_url !=null and picture_url!=''">		 ,picture_url=#{picture_url}		</if>		<if test="delete_flag !=null and delete_flag!=''">		 ,delete_flag=#{delete_flag}		</if>		<if test="status !=null and status!=''">		 ,status=#{status}		</if>		<if test="remark !=null and remark!=''">		  ,remark=#{remark}		</if>		 where 1=1 and id=#{id}	</update>		<select id="manage.secureProduct.selectOne" parameterType="net.jeeshop.services.manage.secureProduct.bean.SecureProduct" resultType="net.jeeshop.services.manage.secureProduct.bean.SecureProduct">	  select * 	 	from t_business_product p where 1=1and p.delete_flag=0		 <if test="uid!=null and uid!=''">		and p.id in  (select product_id from t_user_product where user_id= #{uid})	 	</if>	 	<if test="status != 0">			and p.status=#{status}		</if>		 	</select>		<select id="manage.secureProduct.selectById" parameterType="string" resultType="net.jeeshop.services.manage.secureProduct.bean.SecureProduct">	 select * from t_business_product t where id=#{id}	</select>	<delete id="manage.secureProduct.delete" parameterType="int">		update t_business_product set delete_flag=#{delete_flag} where id=#{id}	</delete>	<delete id="manage.secureProduct.deleteById" parameterType="int">		update t_business_product set delete_flag=#{delete_flag} where id=#{id}	</delete>		<delete id="manage.secureProduct.deleteAttributeLinkByProductID" parameterType="int">				update t_business_product set delete_flag=#{delete_flag} where id=#{id}	</delete>		<select id="manage.secureProduct.selectStockByIDs" parameterType="list" resultType="net.jeeshop.services.manage.secureProduct.bean.SecureProduct">	 select id,stock from t_business_product t where 1=1 	 id=#{id}  	</select>		<select id="manage.secureProduct.selectOutOfStockProductCount" resultType="int">	 select count(*) from t_business_product t where 1=1 and id=#{id} 	</select>	<update id="manage.secureProduct.updateImg" parameterType="net.jeeshop.services.manage.secureProduct.bean.SecureProduct">		update t_business_product		 set remark=#{remark} 		 where 1=1 and id=#{id}	</update>		<update id="manage.secureProduct.updateProductStatus" parameterType="net.jeeshop.services.manage.secureProduct.bean.SecureProduct">		update t_business_product  set updatetime=now(),updateAccount=#{updateAccount},status=#{status} where id=#{id} 	</update>		<update id="manage.secureProduct.updateProductBindActivityId" parameterType="net.jeeshop.services.manage.secureProduct.bean.SecureProduct">		 update t_business_product set remark=#{remark} where id=#{id}		</update>		<update id="manage.secureProduct.updateResetThisProductActivityID" parameterType="string">		 update t_business_product set remark=null where id=#{id}	</update>	</mapper>